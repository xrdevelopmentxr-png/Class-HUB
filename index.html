<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Class HUB - 50 Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;margin:0;color:white;background:#0f172a}
header{background:#020617;padding:16px;display:flex;justify-content:space-between;align-items:center}
button{padding:8px 12px;border:none;border-radius:6px;cursor:pointer;margin:4}
.primary{background:#38bdf8;color:black}
.card{background:#020617;padding:16px;border-radius:12px;margin:12px 0}
input,select{padding:8px;width:100%;margin:6px 0;border-radius:6px;border:none}
.hidden{display:none}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
</style>
</head>

<body>
<header>
<h1>Class HUB - 50 Games</h1>
<div id="userInfo"></div>
</header>

<main style="padding:16px">
<div id="auth" class="card">
<h2>Sign In / Create</h2>
<input id="username" placeholder="Username">
<input id="password" type="password" placeholder="Password">

<label style="display:flex;gap:6px;align-items:center">
  <input type="checkbox" id="rememberMe">
  Stay logged in
</label>

<button class="primary" id="loginBtn">Enter</button>
</div>

<div id="dashboard" class="hidden">
<div class="card">
<h2>Points: <span id="points">0</span></h2>
</div>

<h2>üéÆ Games</h2>
<div class="grid" id="gamesGrid"></div>

<h2>‚öôÔ∏è Settings</h2>
<div class="card">
<input id="newPassword" type="password" placeholder="New Password">
<button onclick="changePassword()">Change Password</button>
<button onclick="logoutAll()">Log out all devices</button>
</div>

<div id="game" class="card hidden"></div>
</div>
</main>

<script>
// ================= USER SYSTEM =================
let currentUser=null, users={};

const DEVICE_ID = localStorage.getItem("deviceId") || (() => {
 const d=Math.random().toString(36).slice(2);
 localStorage.setItem("deviceId",d);
 return d;
})();

// auto login
const savedUser=localStorage.getItem("loggedInUser");
const savedSession=localStorage.getItem("sessionId");

if(savedUser && savedSession){
 users=JSON.parse(localStorage.getItem("users")||"{}");
 const u=users[savedUser];
 if(u && u.sessions){
  const now=Date.now();
  u.sessions=u.sessions.filter(s=>s.expires>now);
  const s=u.sessions.find(s=>s.id===savedSession && s.device===DEVICE_ID);
  if(s){
   currentUser=savedUser;
   auth.classList.add("hidden");
   dashboard.classList.remove("hidden");
   userInfo.innerHTML="Logged in as <b>"+savedUser+"</b>";
   localStorage.setItem("users",JSON.stringify(users));
   update();
  }
 }
}

loginBtn.onclick=()=>{
 const u=username.value.trim(),p=password.value.trim();
 if(!u||!p) return alert("Enter info");

 users=JSON.parse(localStorage.getItem("users")||"{}");
 if(!users[u]) users[u]={password:p,points:0,sessions:[]};
 if(users[u].password!==p) return alert("Wrong password");

 const sessionId=Math.random().toString(36).slice(2);
 const now=Date.now();
 const TTL=1000*60*60*24;

 users[u].sessions=users[u].sessions.filter(s=>s.expires>now);
 users[u].sessions.push({id:sessionId,device:DEVICE_ID,expires:now+TTL});

 localStorage.setItem("users",JSON.stringify(users));
 currentUser=u;

 if(rememberMe.checked){
  localStorage.setItem("loggedInUser",u);
  localStorage.setItem("sessionId",sessionId);
 }

 auth.classList.add("hidden");
 dashboard.classList.remove("hidden");
 userInfo.innerHTML="Logged in as <b>"+u+"</b>";
 update();
};

function logoutAll(){
 users=JSON.parse(localStorage.getItem("users"));
 users[currentUser].sessions=[];
 localStorage.setItem("users",JSON.stringify(users));
 localStorage.removeItem("loggedInUser");
 localStorage.removeItem("sessionId");
 location.reload();
}

function update(){
 users=JSON.parse(localStorage.getItem("users"));
 points.innerText=users[currentUser].points;
}
function addPoints(n){
 users[currentUser].points+=n;
 localStorage.setItem("users",JSON.stringify(users));
 update();
}
function changePassword(){
 const p=newPassword.value.trim();
 if(!p) return alert("Enter password");
 users[currentUser].password=p;
 localStorage.setItem("users",JSON.stringify(users));
 alert("Password changed");
}

// ================= GAMES LIST =================
const gameList=[
{n:"True / False Math",e:"‚úÖ",f:mathTF},
{n:"Quick Math",e:"‚ûï",f:mathQuestion},
{n:"Speed Math",e:"‚ö°",f:speedMath},
{n:"Multiply Rush",e:"‚úñÔ∏è",f:multiRush},
{n:"Guess the Number",e:"üî¢",f:guessNumber},
{n:"Rock Paper Scissors",e:"‚úä‚úã‚úå",f:rockPaper},
{n:"Typing Speed",e:"‚å®Ô∏è",f:typingGame},
{n:"Memory Words",e:"üß†",f:memoryWords},
{n:"Yes / No",e:"‚ùì",f:yesNoGame},
{n:"UNO",e:"üÉè",f:startUNO},
{n:"Floppy Bird",e:"üê¶",f:showFloppyMenu},
{n:"Dice Roll",e:"üé≤",f:diceRoll},
{n:"Coin Flip",e:"ü™ô",f:coinFlip},
{n:"Color Guess",e:"üé®",f:colorGuess},
{n:"High or Low",e:"‚¨ÜÔ∏è‚¨áÔ∏è",f:highLow},
{n:"Quick Typing",e:"‚å®Ô∏è",f:quickTyping},
{n:"Word Scramble",e:"üî§",f:wordScramble},
{n:"Reaction Test",e:"‚ö°",f:reactionTest},
{n:"Emoji Match",e:"üòä",f:emojiMatch},
{n:"Math Race",e:"üèÅ",f:mathRace},
{n:"Random Fact Quiz",e:"üìö",f:randomFact},
{n:"Double Challenge",e:"2Ô∏è‚É£",f:doubleChallenge},
{n:"Triple Challenge",e:"3Ô∏è‚É£",f:tripleChallenge},
{n:"Number Sequence",e:"üî¢",f:numberSequence},
{n:"Missing Number",e:"‚ùì",f:missingNumber},
{n:"Word Missing Letter",e:"‚úèÔ∏è",f:wordMissingLetter},
{n:"True/False Quiz",e:"‚úÖ‚ùå",f:trueFalseQuiz},
{n:"Emoji Quiz",e:"üòÄ",f:emojiQuiz},
{n:"Color Sequence",e:"üé®",f:colorSequence},
{n:"Quick Add",e:"‚ûï",f:quickAdd},
{n:"Quick Subtract",e:"‚ûñ",f:quickSub},
{n:"Memory Colors",e:"üñåÔ∏è",f:memoryColors},
{n:"Memory Numbers",e:"üî¢",f:memoryNumbers},
{n:"Guess Animal",e:"üê∂",f:guessAnimal},
{n:"Riddle Game",e:"üß©",f:riddleGame},
{n:"Reverse Word",e:"üîÑ",f:reverseWord},
{n:"Typing Sentence",e:"‚å®Ô∏è",f:typingSentence},
{n:"Random Math",e:"‚ûï",f:randomMath},
{n:"Odd or Even",e:"‚öñÔ∏è",f:oddEven},
{n:"Guess Shape",e:"üî∫",f:guessShape},
{n:"Reaction Click",e:"üñ±Ô∏è",f:reactionClick},
{n:"Typing Numbers",e:"üî¢",f:typingNumbers},
{n:"Typing Words",e:"üî§",f:typingWords},
{n:"Sequence Recall",e:"üî¢",f:sequenceRecall},
{n:"Symbol Match",e:"üî£",f:symbolMatch},
{n:"Logic Puzzle",e:"üß©",f:logicPuzzle},
{n:"Reverse Sentence",e:"üîÑ",f:reverseSentence},
{n:"Emoji Story",e:"üìñ",f:emojiStory},
{n:"Card Guess",e:"üÉè",f:cardGuess},
{n:"Lucky Number",e:"üçÄ",f:luckyNumber}
];

const grid=document.getElementById("gamesGrid");
gameList.forEach(g=>{
 const btn=document.createElement("button");
 btn.innerText=g.e+" "+g.n;
 btn.onclick=g.f;
 grid.appendChild(btn);
});

// ================= GAME FUNCTIONS =================

function mathQuestion(){const a=Math.floor(Math.random()*10),b=Math.floor(Math.random()*10);game.classList.remove("hidden");game.innerHTML=`${a}+${b}=?<br><input id="ans"><button onclick="if(Number(ans.value)===${a+b}){addPoints(10);alert('Correct!')}else alert('Wrong!');game.classList.add('hidden')">OK</button>`;}
function mathTF(){const a=Math.floor(Math.random()*10),b=Math.floor(Math.random()*10);const correct=Math.random()>0.5;const shown=correct?a*b:a*b+1;game.classList.remove("hidden");game.innerHTML=`${a}√ó${b}=${shown}<br><button onclick="tfAnswer(true,${correct})">True</button><button onclick="tfAnswer(false,${correct})">False</button>`;}
function tfAnswer(u,c){if(u===c){addPoints(10);alert("Correct!")}else alert("Wrong!");game.classList.add("hidden");}
function speedMath(){const a=Math.floor(Math.random()*20),b=Math.floor(Math.random()*20);if(Number(prompt(`${a}+${b}=?`))===a+b)addPoints(15);}
function multiRush(){const a=Math.floor(Math.random()*10),b=Math.floor(Math.random()*10);if(Number(prompt(`${a}√ó${b}=?`))===a*b)addPoints(15);}
function guessNumber(){const n=Math.floor(Math.random()*10)+1;if(Number(prompt("Guess 1‚Äì10"))===n)addPoints(15);}
function doubleChallenge(){const n=Math.floor(Math.random()*20)+1;if(Number(prompt(`Double ${n}?`))===n*2)addPoints(15);}
function tripleChallenge(){const n=Math.floor(Math.random()*15)+1;if(Number(prompt(`Triple ${n}?`))===n*3)addPoints(20);}
function mathRace(){const a=Math.floor(Math.random()*20),b=Math.floor(Math.random()*20);if(Number(prompt(`${a}+${b}?`))===a+b)addPoints(15);}
function quickAdd(){const a=Math.floor(Math.random()*50),b=Math.floor(Math.random()*50);if(Number(prompt(`${a}+${b}?`))===a+b)addPoints(15);}
function quickSub(){const a=Math.floor(Math.random()*50),b=Math.floor(Math.random()*50);if(Number(prompt(`${a}-${b}?`))===a-b)addPoints(15);}
function randomMath(){quickAdd();}
function oddEven(){const n=Math.floor(Math.random()*100);if(prompt("odd or even?")===(n%2?"odd":"even"))addPoints(15);}
function missingNumber(){if(Number(prompt("1,2,?,4,5"))===3)addPoints(15);}
function numberSequence(){if(Number(prompt("2,4,6,8,?"))===10)addPoints(15);}
function highLow(){const n=Math.floor(Math.random()*20)+1;if(prompt("High or Low")===(n>10?"High":"Low"))addPoints(10);}

function typingGame(){if(prompt("Type classhub")==="classhub")addPoints(10);}
function quickTyping(){const w=["apple","banana","orange"][Math.floor(Math.random()*3)];if(prompt(`Type ${w}`)===w)addPoints(15);}
function typingSentence(){if(prompt("Type: Class HUB is fun")==="Class HUB is fun")addPoints(20);}
function reverseWord(){if(prompt("Reverse classhub")==="buhssalc")addPoints(15);}
function typingNumbers(){const n=Math.floor(Math.random()*1000);if(prompt(`Type ${n}`)==n)addPoints(10);}
function typingWords(){const w=["apple","banana","orange"][Math.floor(Math.random()*3)];if(prompt(`Type ${w}`)===w)addPoints(10);}

function memoryWords(){alert("apple, blue, house");if(prompt("Repeat")==="apple,blue,house")addPoints(20);}
function memoryColors(){alert("red, green, blue");if(prompt("Repeat")==="red,green,blue")addPoints(20);}
function memoryNumbers(){alert("3,7,5");if(prompt("Repeat")==="3,7,5")addPoints(20);}
function colorSequence(){memoryColors();}
function emojiMatch(){const e=["üòä","üòÇ","üòé"][Math.floor(Math.random()*3)];if(prompt(`Type ${e}`)===e)addPoints(10);}
function sequenceRecall(){alert("1,3,5");if(prompt("Repeat")==="1,3,5")addPoints(15);}
function symbolMatch(){const s=["$","#","%"][Math.floor(Math.random()*3)];if(prompt(`Type ${s}`)===s)addPoints(10);}

function yesNoGame(){if(prompt("Is 10>5?")==="yes")addPoints(10);}
function trueFalseQuiz(){if(prompt("2+2=4?")==="yes")addPoints(10);}
function riddleGame(){if(prompt("What has keys but can't open locks?").includes("piano"))addPoints(20);}
function randomFact(){alert("The earth revolves around the sun.");addPoints(10);}
function emojiQuiz(){if(prompt("üòä")==="smile")addPoints(10);}
function guessAnimal(){if(["cat","dog","lion"].includes(prompt("Animal").toLowerCase()))addPoints(15);}
function wordMissingLetter(){if(prompt("a_ple")==="apple")addPoints(10);}
function reverseSentence(){if(prompt("Reverse: Class HUB is fun")==="nuf si BUH ssalC")addPoints(15);}
function logicPuzzle(){if(prompt("Tall when young?").includes("candle"))addPoints(20);}

function diceRoll(){if(Number(prompt("1‚Äì6"))===Math.floor(Math.random()*6)+1)addPoints(10);}
function coinFlip(){if(prompt("heads/tails")===(Math.random()>0.5?"heads":"tails"))addPoints(10);}
function colorGuess(){const c=["red","green","blue"][Math.floor(Math.random()*3)];if(prompt("Color")==c)addPoints(10);}
function guessShape(){const s=["circle","square","triangle"][Math.floor(Math.random()*3)];if(prompt("Shape")==s)addPoints(15);}
function cardGuess(){const c=["A","2","3","K"][Math.floor(Math.random()*4)];if(prompt("Card")==c)addPoints(10);}
function luckyNumber(){if(Number(prompt("1‚Äì10"))===Math.floor(Math.random()*10)+1)addPoints(15);}

function rockPaper(){const cpu=["rock","paper","scissors"][Math.floor(Math.random()*3)];const g=prompt("rock/paper/scissors");if(g!==cpu)addPoints(15);}
function startUNO(){alert("UNO!");addPoints(20);}
function showFloppyMenu(){alert("Floppy Bird!");addPoints(15);}
function reactionTest(){const s=Date.now();prompt("Go");if(Date.now()-s<1000)addPoints(15);}
function reactionClick(){reactionTest();}
function wordScramble(){const w="apple";const s=w.split("").sort(()=>Math.random()-0.5).join("");if(prompt(s)===w)addPoints(20);}
function emojiStory(){if(prompt("üòäüòÇüòé")==="üòäüòÇüòé")addPoints(15);}
</script>
</body>
</html>
